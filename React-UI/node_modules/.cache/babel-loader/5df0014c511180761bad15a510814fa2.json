{"ast":null,"code":"var _jsxFileName = \"/var/www/html/proto/prototype/React-UI/src/Components/App/Transaction/UserTransaction.js\";\n\n/* eslint-disable react/style-prop-object */\n\n/* eslint-disable jsx-a11y/alt-text */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n/* eslint-disable */\nimport React, { Component } from \"react\"; // import Bubble from \"../Stats/Bubble\";\n\nimport Bar from \"../Stats/Bar\";\nimport Select from \"react-select\";\nimport { HomeService } from \"../../_Services\";\nimport \"./Transaction.css\";\nimport MenuItems from \"../Menu/Menu\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserTransaction extends Component {\n  constructor(props) {\n    super(props);\n\n    this.userStats = () => {\n      HomeService.userTransactions().then(res => {\n        // console.log(res.data.data);\n        var stats = [];\n        console.log(\"testtttttttt\");\n        this.setState({\n          fullstats: res.data.data\n        }, function () {\n          this.filterTree(1);\n        }); // console.log(\"jjjjjjjjjjjj\");\n        // console.log(this.state);\n        // this.setState({ fullstats: stats }, function () {\n        //   console.log(this.state.fullstats);\n        //   this.filterTree(this.state.selectedOption.value);\n        // });\n      }).catch(err => {});\n    };\n\n    this.filterTree = id => {\n      // var id = 1;\n      var treeData = this.state.fullstats.filter(stat => {\n        return parseInt(id) === parseInt(stat.question);\n      });\n      var series = [];\n      var seriesData = [];\n      var inc = 1;\n      treeData.forEach(function (value) {\n        //  stats.push([value.programName, value.programStats]);\n        console.log(value);\n        var act = JSON.parse(value.activity);\n        console.log(act);\n        var millis = parseFloat(act.endTime - act.startTime);\n        var minutes = Math.floor(millis / 60000);\n        var seconds = (millis % 60000 / 1000).toFixed(0);\n        var duration = minutes + \".\" + (seconds < 10 ? \"0\" : \"\") + seconds;\n        console.log(duration);\n        seriesData.push(duration);\n        series.push(\"User-\" + inc);\n        inc++;\n        console.log(\"hel\"); //stats.push(value);\n      });\n      this.setState({\n        seriesData: seriesData,\n        series: series\n      });\n    };\n\n    this.handleChange = selectedOption => {\n      console.log(selectedOption);\n      this.setState({\n        selectedOption: selectedOption\n      }, function () {\n        this.filterTree(selectedOption.value);\n      }); // this.setState({ selectedOption }, () =>\n      //  // console.log(`Option selected:`, this.state.selectedOption)\n      // );\n    };\n\n    this.state = {\n      series: [],\n      seriesData: [],\n      fullstats: [],\n      selectedOption: {\n        value: 1,\n        label: \"You have 3 pairs of coloured clothes with heavy stains. What options would you prefer to wash the clothes?\",\n        selected: false,\n        program: []\n      },\n      q: [{\n        value: 1,\n        label: \"You have 3 pairs of coloured clothes with heavy stains. What options would you prefer to wash the clothes?\",\n        selected: false,\n        program: []\n      }, {\n        value: 2,\n        label: \"You have 2 pairs of cotton clothes. What options would you prefer to wash the clothes?\",\n        selected: false,\n        program: []\n      }]\n    };\n  }\n\n  componentDidMount() {\n    this.userStats();\n  }\n\n  render() {\n    const {\n      selectedOption,\n      q,\n      series,\n      seriesData\n    } = this.state; // console.log(JSON.stringify(series));\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(MenuItems, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row full-width\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"charts\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            align: \"center\",\n            children: t(\"Sample Visualizations\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"row col-md-4 p-30\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              class: \"q-label\",\n              children: t(\"Select Question\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedOption,\n              onChange: this.handleChange,\n              options: q\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Bar, {\n            series: series,\n            seriesData: seriesData,\n            selectedOption: selectedOption\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default UserTransaction;","map":{"version":3,"sources":["/var/www/html/proto/prototype/React-UI/src/Components/App/Transaction/UserTransaction.js"],"names":["React","Component","Bar","Select","HomeService","MenuItems","UserTransaction","constructor","props","userStats","userTransactions","then","res","stats","console","log","setState","fullstats","data","filterTree","catch","err","id","treeData","state","filter","stat","parseInt","question","series","seriesData","inc","forEach","value","act","JSON","parse","activity","millis","parseFloat","endTime","startTime","minutes","Math","floor","seconds","toFixed","duration","push","handleChange","selectedOption","label","selected","program","q","componentDidMount","render","t"],"mappings":"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","sourcesContent":["/* eslint-disable react/style-prop-object */\n/* eslint-disable jsx-a11y/alt-text */\n/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable */\nimport React, { Component } from \"react\";\n// import Bubble from \"../Stats/Bubble\";\nimport Bar from \"../Stats/Bar\";\nimport Select from \"react-select\";\nimport { HomeService } from \"../../_Services\";\nimport \"./Transaction.css\";\nimport MenuItems from \"../Menu/Menu\";\n\nclass UserTransaction extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      series: [],\n      seriesData: [],\n      fullstats: [],\n      selectedOption: {\n        value: 1,\n\n        label:\n          \"You have 3 pairs of coloured clothes with heavy stains. What options would you prefer to wash the clothes?\",\n        selected: false,\n        program: [],\n      },\n      q: [\n        {\n          value: 1,\n\n          label:\n            \"You have 3 pairs of coloured clothes with heavy stains. What options would you prefer to wash the clothes?\",\n          selected: false,\n          program: [],\n        },\n        {\n          value: 2,\n          label:\n            \"You have 2 pairs of cotton clothes. What options would you prefer to wash the clothes?\",\n          selected: false,\n          program: [],\n        },\n      ],\n    };\n  }\n\n  userStats = () => {\n    HomeService.userTransactions()\n      .then((res) => {\n        // console.log(res.data.data);\n        var stats = [];\n\n        console.log(\"testtttttttt\");\n        this.setState({ fullstats: res.data.data }, function () {\n          this.filterTree(1);\n        });\n\n        // console.log(\"jjjjjjjjjjjj\");\n        // console.log(this.state);\n        // this.setState({ fullstats: stats }, function () {\n        //   console.log(this.state.fullstats);\n        //   this.filterTree(this.state.selectedOption.value);\n        // });\n      })\n      .catch((err) => {});\n  };\n\n  filterTree = (id) => {\n    // var id = 1;\n    var treeData = this.state.fullstats.filter((stat) => {\n      return parseInt(id) === parseInt(stat.question);\n    });\n    var series = [];\n    var seriesData = [];\n\n    var inc = 1;\n    treeData.forEach(function (value) {\n      //  stats.push([value.programName, value.programStats]);\n      console.log(value);\n      var act = JSON.parse(value.activity);\n      console.log(act);\n      var millis = parseFloat(act.endTime - act.startTime);\n      var minutes = Math.floor(millis / 60000);\n      var seconds = ((millis % 60000) / 1000).toFixed(0);\n      var duration = minutes + \".\" + (seconds < 10 ? \"0\" : \"\") + seconds;\n      console.log(duration);\n      seriesData.push(duration);\n      series.push(\"User-\" + inc);\n\n      inc++;\n      console.log(\"hel\");\n\n      //stats.push(value);\n    });\n    this.setState({\n      seriesData: seriesData,\n      series: series,\n    });\n  };\n\n  componentDidMount() {\n    this.userStats();\n  }\n\n  handleChange = (selectedOption) => {\n    console.log(selectedOption);\n    this.setState({ selectedOption: selectedOption }, function () {\n      this.filterTree(selectedOption.value);\n    });\n    // this.setState({ selectedOption }, () =>\n    //  // console.log(`Option selected:`, this.state.selectedOption)\n    // );\n  };\n\n  render() {\n    const { selectedOption, q, series, seriesData } = this.state;\n\n    // console.log(JSON.stringify(series));\n    return (\n      <div class=\"container-fluid\">\n        <MenuItems />\n        <div class=\"row full-width\">\n          <div className=\"charts\">\n            <h2 align=\"center\">{t(\"Sample Visualizations\")}</h2>\n            <div class=\"row col-md-4 p-30\">\n              <label class=\"q-label\">{t(\"Select Question\")}</label>\n              <Select\n                value={selectedOption}\n                onChange={this.handleChange}\n                options={q}\n              />\n            </div>\n            <br />\n            {/* <Bubble series={series} selectedOption={selectedOption} /> */}\n\n            <Bar\n              series={series}\n              seriesData={seriesData}\n              selectedOption={selectedOption}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UserTransaction;\n"]},"metadata":{},"sourceType":"module"}